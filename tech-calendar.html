<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-X8VGBX1GHX"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-X8VGBX1GHX');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="The Douglas Calendar - A unified family calendar system built from scratch to solve household scheduling chaos">
    <title>The Douglas Calendar - Doug Boyd</title>
    <link rel="stylesheet" href="styles/main.css?v=20260117">
    <style>
        /* Image modal styles */
        .image-modal {
            display: none;
            position: fixed;
            z-index: 9999;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            animation: fadeIn 0.3s ease-in-out;
        }

        .image-modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .image-modal img {
            max-width: 95%;
            max-height: 95%;
            object-fit: contain;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
            animation: zoomIn 0.3s ease-in-out;
        }

        .image-modal-close {
            position: absolute;
            top: 20px;
            right: 35px;
            color: #fff;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s;
        }

        .image-modal-close:hover {
            color: #bbb;
        }

        .tech-content figure img {
            cursor: pointer;
            transition: transform 0.2s;
        }

        .tech-content figure img:hover {
            transform: scale(1.02);
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes zoomIn {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
    </style>
</head>
<body>
    <nav class="main-nav">
        <div class="container">
            <div class="nav-container">
                <a href="index.html" class="nav-logo">DOUG BOYD</a>
                <ul class="nav-menu">
                    <li><a href="index.html" class="nav-link">HOME</a></li>
                    <li><a href="rv7-builders-log.html" class="nav-link">RV7 LOG</a></li>
                    <li><a href="fitness.html" class="nav-link">FITNESS</a></li>
                    <li><a href="tech.html" class="nav-link active">TECH</a></li>
                    <li><a href="writings.html" class="nav-link">WRITINGS</a></li>
                    <li><a href="everything-else.html" class="nav-link">EVERYTHING ELSE</a></li>
                </ul>
                <button class="nav-toggle" aria-label="Toggle navigation">
                    <span class="hamburger"></span>
                </button>
            </div>
        </div>
    </nav>

    <main>
        <section class="hero">
            <div class="container">
                <h1 class="hero-title">The Douglas Calendar</h1>
                <p class="hero-subtitle">Angular / Node.js / PostgreSQL / Home Automation</p>
            </div>
        </section>

        <section class="content-section">
            <div class="container">
                <div class="tech-content">
                    <h2>The Problem</h2>

                    <p>We run too many calendars in our house. iCloud for some family members, Google for others, some strange legacy system from a school that Chloe attended years ago that refuses to die, and Outlook for work stuff that occasionally bleeds into personal life. It's ugly. It's fragmented. And I'm continually being harassed for not having the right event in the right calendar—usually discovering this approximately ten minutes before I'm supposed to be somewhere I didn't know I was supposed to be.</p>

                    <p>I'm an engineer. When something's broken, I fix it. When there's nothing to fix, I build something new. And when my family keeps asking why I didn't know about the thing that was definitely on the calendar (just not the one I checked), that's a problem worth solving.</p>

                    <p>So the Douglas Calendar was born.</p>

                    <figure style="margin: var(--spacing-xl) 0; text-align: center;">
                        <img src="images/tech/dcbCalendar.JPG" alt="The Douglas Calendar running on a Samsung tablet" style="max-width: 100%; height: auto; border-radius: var(--radius-md); box-shadow: var(--shadow-md);">
                        <figcaption style="margin-top: var(--spacing-sm); color: var(--color-text-light); font-style: italic;">A thousand ways to skin this cat, and I took the most difficult one. But it works.</figcaption>
                    </figure>

                    <h2>The Solution</h2>

                    <p>We already had a Google Home setup—clunky, but functional. A bunch of speakers scattered around the house, and a small Hub screen in the kitchen that's pretty useless for anything except showing the weather and playing music. But I also had a couple of old Samsung tablets sitting in a drawer, looking for a purpose. And I had a MacBook Air that was mostly gathering dust since I switched to the M4 Pro for daily work.</p>

                    <p>The idea was simple: build a unified calendar application that pulls from every calendar source we use, displays it on a tablet mounted somewhere central, and syncs automatically so nobody has to think about it. No more "which calendar is that on?" No more "I didn't see it because it was in your iCloud." Just one display, one source of truth, always current.</p>

                    <p>Of course, "simple idea" and "simple implementation" are rarely the same thing. What started as a weekend project turned into a proper full-stack application with real infrastructure. But that's what happens when you're an engineer with access to tools and time.</p>

                    <hr style="margin: var(--spacing-xl) auto; width: 50%; border: none; border-top: 2px solid var(--color-primary); opacity: 0.3;">

                    <h2>Technical Implementation</h2>

                    <h3>Frontend</h3>
                    <p>The display layer runs on Angular 21 with standalone components—no legacy module system, just clean component architecture. NgRx handles state management (Store, Effects, Entity), which is probably overkill for a calendar display but means the app handles complex event data without getting messy. The whole thing is styled with a dark theme that looks good on a tablet mounted on a wall, with a PWA manifest so it can run in standalone app mode without browser chrome.</p>

                    <p>Google Cast SDK integration is wired in for potential future use—the idea being that you could cast the calendar to a TV or display during family meetings. Haven't needed it yet, but the plumbing is there.</p>

                    <h3>Backend</h3>
                    <p>The server is Node.js with Express, running against a PostgreSQL database. Nothing fancy, just solid infrastructure that handles the actual work of keeping calendars in sync. The interesting bits are the calendar integrations:</p>

                    <ul>
                        <li><strong>Google Calendar API</strong> using service account authentication—this handles the Google calendars without requiring individual user OAuth flows</li>
                        <li><strong>Apple iCloud CalDAV sync</strong>—required generating an app-specific password and figuring out Apple's CalDAV endpoints, which are not well-documented</li>
                        <li><strong>node-cron</strong> for scheduled sync jobs that pull fresh data every few minutes</li>
                    </ul>

                    <p>Currently syncing five calendars across all family members, with approximately 3,700 events loaded. The sync runs automatically every couple of minutes with a screen content refresh every 30 seconds, so the display is always current without manual intervention.</p>

                    <h3>Infrastructure</h3>
                    <p>The whole stack runs on a dedicated MacBook Air stuffed in the internet cupboard. macOS LaunchAgents handle auto-start for all services on boot—the Node.js API server on port 3000, the Angular static server on port 4200, and a Cloudflare tunnel for external access when we need to check the calendar remotely.</p>

                    <p>Power management is configured via <code>pmset</code> to prevent the MacBook from sleeping, and the Cloudflare tunnel provides path-based routing: <code>/api/*</code> routes to the backend on port 3000, everything else goes to the Angular frontend on port 4200.</p>

                    <h3>Display</h3>
                    <p>The Samsung tablet runs Fully Kiosk Browser in fullscreen kiosk mode, pointed at the local IP address. No browser chrome, no distractions, just calendar. The tablet is mounted on the kitchen wall where everyone walks past it multiple times a day. You can't miss it, which is exactly the point.</p>

                    <hr style="margin: var(--spacing-xl) auto; width: 50%; border: none; border-top: 2px solid var(--color-primary); opacity: 0.3;">

                    <h2>Voice Command Infrastructure</h2>

                    <p>The system has webhook endpoints ready for voice command integration—<code>voice_commands</code> table in the database, polling service in the Angular app, support for commands like <code>show_calendar</code>, <code>show_date</code>, and <code>hide_calendar</code>. The idea is to eventually hook this into Google Home routines so you can say "Hey Google, show me next week" and have the display respond.</p>

                    <p>This is built but not yet wired to actual voice triggers. It's on the list. The infrastructure is ready when I get around to the integration work.</p>

                    <hr style="margin: var(--spacing-xl) auto; width: 50%; border: none; border-top: 2px solid var(--color-primary); opacity: 0.3;">

                    <h2>Was It Worth It?</h2>

                    <p>Absolutely. Could I have solved this with a shared Google Calendar and some discipline? Probably. Would that have been as satisfying as building a proper full-stack solution with real infrastructure? Absolutely not.</p>

                    <p>The calendar now works exactly how I wanted it to work. Everyone's events in one place, always visible, always current. No more "I didn't see it" because the tablet is right there on the wall. No more calendar fragmentation because the backend handles the sync automatically. And when something breaks—which it will, because software always does—I know exactly how to fix it because I built the whole thing.</p>

                    <p>Plus, I got to use Angular 21, which I hadn't touched in production yet. And I finally found a use for that old MacBook Air. Engineers don't throw things away; we find new purposes for them.</p>

                </div>
            </div>
        </section>
    </main>

    <footer class="main-footer">
        <div class="container">
            <div class="footer-content">
                <p>&copy; 2026 Doug Boyd. All Rights Reserved.</p>
                <a href="index.html#newsletter" class="footer-link">Subscribe</a>
                <a href="https://ko-fi.com/dougboyd" class="kofi-button" target="_blank" rel="noopener">
                    Support This Work ☕
                </a>
                <p class="footer-date">Generated January 17, 2026</p>
            </div>
        </div>
    </footer>

    <!-- Image Modal -->
    <div id="imageModal" class="image-modal">
        <span class="image-modal-close">&times;</span>
        <img id="modalImage" src="" alt="">
    </div>

    <script src="scripts/main.js?v=20260117"></script>
    <script>
        // Image modal functionality
        (function() {
            const modal = document.getElementById('imageModal');
            const modalImg = document.getElementById('modalImage');
            const closeBtn = document.querySelector('.image-modal-close');

            // Add click handlers to all images in tech content
            document.querySelectorAll('.tech-content figure img').forEach(img => {
                img.addEventListener('click', function() {
                    modal.classList.add('active');
                    modalImg.src = this.src;
                    modalImg.alt = this.alt;
                    document.body.style.overflow = 'hidden';
                });
            });

            closeBtn.addEventListener('click', closeModal);

            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    closeModal();
                }
            });

            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && modal.classList.contains('active')) {
                    closeModal();
                }
            });

            function closeModal() {
                modal.classList.remove('active');
                document.body.style.overflow = '';
            }
        })();
    </script>
</body>
</html>
